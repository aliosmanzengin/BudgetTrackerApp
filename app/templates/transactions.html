{% extends "base.html" %}
{% block content %}
<h1>Transactions</h1>

<!-- Form for adding a new transaction -->
<form id="transaction-form">
    <label for="date">Date:</label>
    <input type="date" id="date" name="date" placeholder="YYYY-MM-DD" required><br>

    <label for="amount">Amount:</label>
    <input type="number" id="amount" name="amount" step="0.01" placeholder="Amount" required><br>

    <label for="category_id">Category:</label>
    <select id="category_id" name="category_id">
        <!-- Populate these options dynamically using server-side code -->
        {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select><br>

    <label for="notes">Notes:</label>
    <input type="text" id="notes" name="notes" placeholder="Notes"><br>

    <button type="submit">Add Transaction</button>
</form>

<h2>All Transactions</h2>
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Amount</th>
            <th>Category</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody id="transactions-body">
        {% for transaction in transactions %}
        <tr>
            <td>{{ transaction.id }}</td>
            <td>{{ transaction.date }}</td>
            <td>{{ transaction.amount }}</td>
            <td>{{ transaction.category.name }}</td>
            <td>{{ transaction.notes }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<script src="{{ url_for('static', filename='scripts.js') }}"></script>
{% endblock %}
